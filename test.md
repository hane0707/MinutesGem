# 定例会議 議事録

## 基本情報

- **日時:** (※文字起こしデータからは特定不可のため、仮の日時を記載) 2024 年 4 月 XX 日(X) XX:XX ～ XX:XX
- **場所:** オンライン会議
- **出席者:**
  - 生駒さん（進行、チームリーダー）
  - 新垣さん（SCOPE アプリリーダー）
  - 本澤さん（SCOPE アプリメンバー）
  - 松本さん（MojiLa アプリリーダー、Docinsights アプリリーダー）
- **記録者:** (※自動生成)

## 主要な決定事項

- **MojiLa アプリ:** 翻訳モードにおいて、処理時間の問題から GPT-4o は利用せず、GPT-4o mini のみを利用可能とする。

## アクションアイテム

| No. | アクション                                                                                                                                                           | 担当者             | 期限           |
| :-: | :------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :----------------- | :------------- |
|  1  | **SCOPE アプリ:** クローリング取得困難サイト（IP ブロック、画像 PDF 等）について、状況を整理し山田さんに報告、対応方針（取得対象外指定、別手段検討など）を確認する。 | 本澤さん           | 明日・明後日中 |
|  2  | **SCOPE アプリ:** セレクタータイムアウト問題について、原因調査と対応を引き続き試みる。                                                                               | 本澤さん           | 未定           |
|  3  | **SCOPE アプリ:** クローリングのチューニング（実行間隔ランダム化、マシン分散偏り対策など）を検討・実装する。                                                         | 本澤さん、新垣さん | 未定           |
|  4  | **Docinsights アプリ:** マルチエージェント機能に関する知見・試用結果について、社内勉強会などでの共有を検討する（MBO 達成も視野）。                                   | 松本さん           | 未定           |
|  5  | **Docinsights アプリ:** 追加機能（ユーザーごとの会話履歴保存など）について、山田さんと要件定義を進める。                                                             | 松本さん           | 未定           |
|  6  | **Docinsights アプリ:** パッケージ依存関係の競合問題を修正する。                                                                                                     | 松本さん           | 未定           |

## 議題詳細

### 1. SCOPE アプリの進捗と課題

- **SCOPE アプリ:** 企業のニュースリリース等の情報を自動収集・管理するアプリケーション（推測）。
- **クローリング:** Web サイトから情報を自動収集する技術。

#### 1.1. 500 社登録の進捗 (データ収集状況)

- **新垣さん:** 以前は 500 社分のデータ登録作業に追われていた。
- **新垣さん:** 本澤さんが主にデータ回収を担当。
- **本澤さん:** 現在、約 481 社まで回収完了。残り 19 社。
- **新垣さん:** 残りの企業は回収が難しいものが多く、完了目処は未定。

#### 1.2. 適時開示アプリとの統合

- **適時開示:** 上場企業が投資判断に影響を与える重要な情報を公開すること。
- **新垣さん:** 以前作成した別の適時開示アプリの機能を SCOPE アプリに統合する作業を進行中。
- **新垣さん:** 既存機能の移行がメインのため、1〜2 日程度で完了見込み。
- **本澤さん:** 統合は、SCOPE アプリ内に別機能として適時開示情報を持つ形。設定画面から切り替えて旧アプリ（別サイト）に遷移していたものを、SCOPE アプリのドメイン内に統合し、旧サイトは廃止する方向。

#### 1.3. クローリングにおける課題と対策

- **本澤さん:** 残り 19 社のデータ回収が困難な理由として、主に以下のパターンがある。
  1.  **IP アドレスによるアクセスブロック:**
      - ローカル環境からはアクセスできるが、AWS などの海外サーバーからのアクセスがブロックされる（IP アドレスで判断されている可能性）。
      - 特定の企業（ワコム、ビックカメラなど）で発生。PDF ファイルへのアクセスのみブロックされるケース（コスモス薬品）もある。
      - **対策:** 山田さん経由で企業にアクセス許可を依頼できないか相談する必要がある。そのためには、AWS の固定 IP アドレス（Elastic IP）を取得・特定する必要がある可能性。
  2.  **画像形式の PDF:**
      - PDF 全体が画像データになっており、テキスト抽出が困難。
      - **対策:** OCR（光学文字認識）技術の導入が必要だが、精度や処理負荷、開発工数の問題から現実的ではない。この方式の PDF は対応困難である旨を山田さんに伝える必要がある。
  3.  **文字化け:**
      - 取得した PDF ファイルの一部が文字化けしている。
      - **対策:** 原因特定が困難。取得できる情報もあるため、現状はこのまま取得し、文字化けが発生する可能性があることを山田さんに報告・相談する。
  4.  **セレクター取得時のタイムアウト:**
      - **セレクター:** Web ページの特定の要素を指定するための記述。
      - **Playwright:** Web ブラウザ自動操作のためのフレームワーク。
      - 特定の要素が表示されるのを待機中にタイムアウトエラーが発生する。JavaScript の実行完了前に要素を取得しようとしている可能性。
      - **対策:** この問題はもう少し調査・調整すれば解決できる可能性があるため、引き続き対応を試みる。
- **本澤さん:** 上記のうち、IP ブロックと画像 PDF の問題については、早急に山田さんに状況を報告し、対応方針（取得対象外とするか、別手段を講じるか等）を確認する（**アクション 1**）。セレクターの問題は引き続き対応する（**アクション 2**）。

#### 1.4. クローリングのチューニング

- **新垣さん:** 現在、4 台のサーバーで分散して 1 時間に 1 回クローリングを実行しており、約 15 分で完了している。新規記事がない場合が多いため、現状は時間に余裕がある。
- **生駒さん:** 今後の対象企業増加に備え、以下のチューニングが必要ではないか。
  - **実行間隔の最適化:** 企業ごとの記事更新頻度に合わせて、クローリング間隔を調整する。現状の 1 時間固定では非効率な可能性がある。
  - **負荷分散の偏り対策:** サーバー分散時に、特定の企業が常に同じサーバー（同じ IP アドレス）からアクセスされる傾向があると、ロボット判定されてブロックされるリスクが高まる。
    - 実行間隔をランダム化する（例: 1 時間 ±10 分）。
    - 前回と異なるサーバーで実行するような制御を入れる。
- **本澤さん、新垣さん:** 上記チューニングについて、今後検討・実装を進める（**アクション 3**）。

### 2. MojiLa アプリ（旧 VTT アプリ）の進捗

- **MojiLa アプリ:** VTT ファイル（動画の字幕ファイル形式）を扱うアプリケーション。
- **VTT (Video Text Tracks):** 動画の字幕ファイル形式の一つ。
- **LLM (Large Language Model):** 大規模言語モデル。GPT シリーズなどが代表例。
- **GPT-4o / GPT-4o mini:** OpenAI が開発した LLM のモデル名。

- **松本さん:** アプリ名が「MojiLa」に変更された。
- **松本さん:** 主な機能追加・変更点：
  - **翻訳機能の追加:** 英語から日本語、日本語から英語への翻訳モードを追加。
  - **GPT-4o mini 対応:** 新しいモデル (GPT-4o mini) を利用可能にした。
  - **GPT-4o 利用停止:** 英語から日本語への翻訳時、タイムコードが多いファイルで処理時間が長くなり、クラウドフロントのタイムアウト（60 秒）を超える問題が発生。より高速な GPT-4o mini のみを利用可能にした。
- **松本さん:** 現在、MojiLa アプリに関する優先度の高いタスクは一旦完了している。

### 3. Docinsights アプリの進捗

- **Docinsights アプリ:** ドキュメントをアップロードし、LLM を活用して要約や質疑応答を行うアプリケーション。
- **マルチエージェント:** 複数の自律的なエージェント（LLM など）が協調してタスクを実行するシステム。
- **AWS Agents SDK:** AWS が提供するマルチエージェントシステム構築のための SDK。
- **ベクトル検索:** テキストなどのデータをベクトル化し、類似度に基づいて検索する技術。
- **Qdrant:** ベクトルデータベースの一つ。
- **RAG (Retrieval-Augmented Generation):** 外部知識（ドキュメントなど）を検索し、その情報を基に LLM が回答を生成する技術。
- **Azure OpenAI:** Microsoft Azure 上で提供される OpenAI のサービス。
- **NotebookLM:** Google が提供する、ドキュメントを登録して対話的に情報を引き出せるサービス。

- **松本さん:** Docinsights アプリの機能改善として、マルチエージェント化を実施。
  - **改善前:** 単一の LLM が、ユーザーの質問とベクトル検索で取得したドキュメントの一部を基に回答を生成。ユーザーの質問の仕方に精度が依存していた。
  - **改善後:** AWS Agents SDK を使用し、複数の専門エージェント（処理振り分け用、要約用、文章改修用、汎用処理用など）を定義。質問内容に応じて最適なエージェントが処理を実行するようにした。
  - **ドキュメント検索改善:** 単純な類似検索だけでなく、「要約して」のような指示の場合は全文を取得するなど、指示内容に応じて適切なドキュメント部分を取得するエージェントも追加。
  - **会話履歴の活用:** メモリ上に会話履歴を保持し、「最初の質問は何でしたか？」のような、過去の対話を踏まえた質問に答えられるようになった。
- **松本さん:** 課題点：
  - AWS Agents SDK が Azure OpenAI に現状対応しておらず、OpenAI 純正 API を直接利用する必要がある（コストや管理面での懸念）。これにより一部冗長な実装になっている箇所がある。
  - パッケージの依存関係で競合が発生しており、修正が必要（**アクション 6**）。
- **松本さん:** 目指す方向性として、Google の NotebookLM が近い機能を提供している。再発明になる可能性はあるが、Word や PowerPoint ファイルを扱える点が現状の優位性。
- **松本さん:** 今後の開発：
  - マルチエージェント機能を本番反映予定。
  - ユーザーごとの会話履歴保存など、追加機能の要件定義を山田さんと進める（**アクション 5**）。

### 4. その他

- **AI 技術動向と社内共有:**
  - **生駒さん:** マルチエージェント技術は注目度が高いため、松本さんが得た知見を社内で共有する機会（勉強会など）を設けてはどうか。MBO 達成にも繋がる可能性がある。
  - **松本さん:** 状況がまとまれば検討したい（**アクション 4**）。
- **ゴールデンウィーク休暇:**
  - **本澤さん:** ゴールデンウィーク期間中の平日（4/30、5/1、5/2、5/7）は休暇を取得する。5 月 8 日(水)から業務復帰予定。

---

以上
